spring:
  application:
    name: ecommerce-backend

  datasource:
    url: jdbc:h2:mem:ecommerce
    driver-class-name: org.h2.Driver
    username: sa
    password:

  h2:
    console:
      enabled: true
      path: /h2-console
      settings:
        web-allow-others: true

  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        use_sql_comments: true

  security:
    user:
      name: admin
      password: admin

server:
  port: 8080

management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: when-authorized

logging:
  level:
    com.ecommerce: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE

# JWT 설정
jwt:
  secret: dGhpc2lzYXZlcnlsb25nc2VjcmV0a2V5Zm9yand0dG9rZW5nZW5lcmF0aW9uYW5kdmFsaWRhdGlvbjEyMzQ1Njc4OTA=
  access-token-validity: 3600000    # 1시간 (밀리초)
  refresh-token-validity: 604800000 # 7일 (밀리초)

# OAuth2 설정
spring.security.oauth2.client:
  registration:
    google:
      client-id: ${GOOGLE_CLIENT_ID:your-google-client-id}
      client-secret: ${GOOGLE_CLIENT_SECRET:your-google-client-secret}
      scope:
        - email
        - profile
      redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
    naver:
      client-id: ${NAVER_CLIENT_ID:your-naver-client-id}
      client-secret: ${NAVER_CLIENT_SECRET:your-naver-client-secret}
      scope:
        - name
        - email
        - profile_image
      client-name: Naver
      authorization-grant-type: authorization_code
      redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
    kakao:
      client-id: ${KAKAO_CLIENT_ID:your-kakao-client-id}
      client-secret: ${KAKAO_CLIENT_SECRET:your-kakao-client-secret}
      scope:
        - profile_nickname
        - account_email
      client-name: Kakao
      authorization-grant-type: authorization_code
      client-authentication-method: client_secret_post
      redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
  provider:
    naver:
      authorization-uri: https://nid.naver.com/oauth2.0/authorize
      token-uri: https://nid.naver.com/oauth2.0/token
      user-info-uri: https://openapi.naver.com/v1/nid/me
      user-name-attribute: response
    kakao:
      authorization-uri: https://kauth.kakao.com/oauth/authorize
      token-uri: https://kauth.kakao.com/oauth/token
      user-info-uri: https://kapi.kakao.com/v2/user/me
      user-name-attribute: id

# OAuth2 성공 시 리다이렉트 URL
oauth2:
  success-redirect-url: ${OAUTH2_SUCCESS_REDIRECT_URL:http://localhost:3000/oauth/callback}
